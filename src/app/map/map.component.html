<div class="container">
  <google-map
    #map
    class="map"
    [height]="null"
    [width]="null"
    [center]="markerPosition()"
    [zoom]="zoom()"
    [options]="mapOptions"
    (mapClick)="onMapClick($event)"
  >
    @for (event of events(); track event.id) {
    <map-marker
      #markerElem="mapMarker"
      [position]="event.latLng"
      [options]="markerOptions"
      (mapClick)="onMarkerClick(event.id)"
    />
    } 
    @if(currentPosition()){
    <map-marker
      #markerElem="mapMarker"
      [position]="currentPosition()"
      [options]="markerOptions"
    />
    }
    <map-marker
      #markerElem="mapMarker"
      [position]="markerPosition()"
      [options]="markerOptions"
    />
  </google-map>
</div>
