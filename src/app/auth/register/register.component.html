<div (click)="closeDialog()" class="backdrop"></div>
<dialog open class="container" @slideDown>
  <mat-card>
    <mat-card-content>
      <form class="form" #regForm="ngForm" (ngSubmit)="onSubmit(regForm)">
        <mat-form-field appearance="outline">
          <mat-label for="name">name</mat-label>
          <input
            matInput
            required
            name="name"
            ngModel
            #name="ngModel"
            type="text"
          />
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label for="name">e-mail</mat-label>
          <input
            matInput
            required
            name="email"
            ngModel
            #email="ngModel"
            type="email"
          />
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label for="password">password</mat-label>
          <input
            matInput
            required
            name="password"
            [(ngModel)]="password"
            type="password"
          />
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label for="password2">password again</mat-label>
          <input
            matInput
            required
            name="password2"
            [(ngModel)]="password2"
            type="password"
          />
        </mat-form-field>
        @if(password2!==password && regForm.controls['password2'].touched && regForm.controls['password2'].dirty) {
        <mat-error>passwords do not match</mat-error>
        }
        <mat-card-actions class="actions">
          <button
            mat-flat-button
            type="submit"
            class="bold"
            [disabled]="regForm.invalid || password2!==password"
          >
            create user
          </button>
        </mat-card-actions>
      </form>
    </mat-card-content>
  </mat-card>
</dialog>
